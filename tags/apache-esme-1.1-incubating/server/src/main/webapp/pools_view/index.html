<!--
 Licensed to the Apache Software Foundation (ASF) under one   *
 or more contributor license agreements.  See the NOTICE file *
 distributed with this work for additional information        *
 regarding copyright ownership.  The ASF licenses this file   *
 to you under the Apache License, Version 2.0 (the            *
 "License"); you may not use this file except in compliance   *
 with the License.  You may obtain a copy of the License at   *
                                                              *
   http://www.apache.org/licenses/LICENSE-2.0                 *
                                                              *
 Unless required by applicable law or agreed to in writing,   *
 software distributed under the License is distributed on an  *
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY       *
 KIND, either express or implied.  See the License for the    *
 specific language governing permissions and limitations      *
 under the License.                                           *
-->
<lift:surround with="base" at="left">
	<head>
		<!-- STYLESHEETS  -->
                 <link type="text/css" href="../style/jqueryui-theme/jquery-ui-1.8.2.custom.css" rel="stylesheet" />  
		<link type="text/css" href="../style/dialog.css" rel="stylesheet" />
		<script type="text/javascript" src="../scripts/jquery-ui-1.8.2.custom.min.js">    </script>
		<script type="text/javascript" src="../scripts/dialog_pool.js">    </script>
		<lift:TableSorterSnip/>
	</head>
	<div id="back-header">
        <div id="messages"></div>
            <lift:Msgs>
                <lift:error_class>error_major</lift:error_class>
                <lift:notice_msg>
                    <lift:loc>ui_base_note</lift:loc>
                </lift:notice_msg>
                <lift:notice_class>note_major</lift:notice_class>
            </lift:Msgs>
		<h1>
			<lift:loc>ui_pool_manage</lift:loc>
		</h1>
		<div class="container-settings">
			<div class="post-form-row">
				<div class="submit-btn tipelement" title="Create a new pool." >
					<input type="image" onclick="javascript:$('#dialog-form').dialog('open')" id="create-pool" src="../images/new1.gif" />
				</div>
			</div>
			<div id="PoolDetailSpan">
				<lift:ignore>
					<!--                        The poolUsers snippet *MUST* appear on the page before                        the editPool snippet                        -->
					</lift:ignore>
				<lift:poolDetail the_pool_id="PoolDetailSpan">
					<fieldset>
						<legend>
							<b><lift:loc>ui_pool_title_details</lift:loc></b>
							<i>
								<pool:name/>
							</i>
						</legend>
						<table class="tablesorter">
							<thead>
								<tr>
									<th>
										<lift:loc>ui_pool_list_last_modifier</lift:loc>
									</th>
									<th>
										<lift:loc>ui_pool_list_modify_date</lift:loc>
									</th>
									<th>
										<lift:loc>ui_pool_list_last_creator</lift:loc>
									</th>
									<th>
										<lift:loc>ui_pool_list_create_date</lift:loc>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<pool:modifier/>
									</td>
									<td>
										<pool:lastModifyDate/>
									</td>
									<td>
										<pool:creator/>
									</td>
									<td>
										<pool:createdDate/>
									</td>
								</tr>
							</tbody>
						</table>
                                     </fieldset>
				</lift:poolDetail>
			</div>
			<div id="PoolSpan">  
				<lift:ignore>
					<!--  The poolUsers snippet *MUST* appear on the page before the editPool snippet                        -->
				</lift:ignore>
				<lift:poolUsers the_id="PoolSpan">
							<b><lift:loc>ui_pool_list_users</lift:loc></b>
						<table id="esme-table" class="tablesorter">
							<thead>
								<tr>
									<th>
										<lift:loc>ui_pool_list_user_name</lift:loc>
									</th>
									<th>
										<lift:loc>ui_pool_list_user_role</lift:loc>
									</th>
								</tr>
							</thead>
							<tbody>
								<pool:user>
									<tr>
										<td>
											<user:name/>
										</td>
										<td>
											<user:privilege/>
										</td>
									</tr>
								</pool:user>
							</tbody>
						</table>
					<div class="post-form-row">
						<div class="submit-btn tipelement" title="Add a user to an existing pool." >
							<input type="image" onclick="javascript:$('#dialog-form-user').dialog('open')" id="create-user" src="../images/edit.gif"/>
						</div>
					</div>
				</lift:poolUsers>
			</div>
			<div class="pool_select">
				<lift:form >
					<lift:editPool class="inputBox2" >
						<lift:loc>ui_pool_edit_label</lift:loc>
						<edit:pool class="tipelement" title="Select a pool to edit"/>
					</lift:editPool>
				</lift:form>
			</div>      
			<div id="pool_membership_and_roles" title="My Pool Roles" >
        <lift:myPools the_id="pool_membership_and_roles">
          <br/>
          <br/>
          <br/>
          <b><lift:loc>ui_pool_list_mine_title</lift:loc></b>
          <table id="esme-table" class="tablesorter">
            <thead>
              <tr>
                <th>
                  <lift:loc>ui_pool_list_mine_pool_name</lift:loc>
                </th>
                <th>
                  <lift:loc>ui_pool_list_mine_role</lift:loc>
                </th>
              </tr>
            </thead>
            <tbody>
              <myPool:pool>
                <tr>
                  <td>
                    <pool:poolName/>
                      </td>
                      <td>
                    <pool:role/>
                  </td>
                </tr>
              </myPool:pool>
            </tbody>
          </table>
        </lift:myPools>
      </div>
			<div id="dialog-form" title="Create new  pool" style="display: none">
				<p class="validateTips">
					<!--lift:loc>ui_form_all_fields_required</lift:loc-->
               <lift:loc>ui_form_pool_name_required</lift:loc>
				</p>
				<form id="pool_new_dialog" onsubmit="false">
					<lift:addPool>
						<fieldset>
							<label for="poolName">
								<lift:loc>ui_pool_add</lift:loc>
							</label>
							<add:poolName class="text ui-widget-content ui-corner-all tipelement" title="This is name of your new pool" />
                     <label for="poolDescription">
								<lift:loc>ui_pool_description</lift:loc>
							</label>
                     <add:poolDescription class="textarea ui-widget-content ui-corner-all tipelement" title="This is a short description of the new pool" />
						</fieldset>
					</lift:addPool>
				</form>
			</div>
			<div id="dialog-form-user" title="Add a user/Change a user's role" style="display: none">
				<p class="validateTips">
					<lift:loc>ui_form_all_fields_required</lift:loc>
				</p>
				<form id="pool_new_user_dialog" onsubmit="false">
					<lift:editPool>
						<fieldset>
							<label for="poolName">
								<lift:loc>ui_pool_add</lift:loc>
							</label>
							<!--edit:username class="text ui-widget-content ui-corner-all tipelement" title="This is the user that will be added to a pool." /-->
                            <edit:username class="text ui-widget-content ui-corner-all tipelement" title="This will be the new user or the user whose role is being changed" />
							<label for="permission">
								<lift:loc>ui_pool_list_user_role</lift:loc>
							</label>
							<!--edit:permission class="text ui-widget-content ui-corner-all tipelement" title="This is the type of permission that the new user will have." /-->
                            <edit:permission class="text ui-widget-content ui-corner-all tipelement" title="This is the type of permission that the user will have." />
						</fieldset>
					</lift:editPool>
				</form>
			</div>
		</div>
	</div>
	<!-- End demo -->
</lift:surround>
